<%- include('../layouts/header.ejs')%>



  <!-- Section: Design Block -->
  <section class=" bodyoflogin">
    <style>
      body {
        overflow-y: hidden;
      }
    </style>

    <div class="container px-4 py-5 px-md-5 text-center text-lg-start">
      <div class="row gx-lg-5 align-items-center mb-5">
        <div class="col-lg-6 mb-5 mb-lg-0" style="z-index: 10">
          
          <a class="navbar-brand logo-size-bgremoved" href="/home"><img src="assets/logos/bgRemInvLogo.png" alt="Thriffy" /></a>
          
          <h1 class="my-5 display-5 fw-bold ls-tight" style="color: hsl(218, 81%, 95%)">
            Sign up Today for Thrift offers <br />
            <span style="color: hsl(218, 81%, 75%)">for your business</span>
          </h1>
          <p class="mb-4 opacity-70" style="color: hsl(218, 81%, 85%)">
            Welcome to Thrift Shoes Ecommerce! Creating an account with us allows you to enjoy a personalized shopping
            experience, track your orders, and stay up to date with the latest deals and promotions.
          </p>
        </div>

        <div class="col-lg-6 mb-5 mb-lg-0 position-relative">
          <div id="radius-shape-1" class="position-absolute rounded-circle shadow-5-strong"></div>
          <div id="radius-shape-2" class="position-absolute shadow-5-strong"></div>

          <div class="card bg-glass">
            <div class="card-body px-4 py-5 px-md-5">
              <form action="/register" method="post" onsubmit="return validateForm()" novalidate>
                <!-- 2 column grid layout with text inputs for the first and last names -->
                <div class="row">
                  <div class="col-md-6 mb-4">
                    <div class="form-outline">
                  
                     
                      <input class="form-control" type="text" id="fname" name="fname" 
                      value="<% if(typeof currentValue !=='undefined' ){%><%= currentValue.fname %><%}else{ }%>" 
                      required />
                          <label class="form-label text-dark" for="fname" >First name</label>
                          <span class="form-label text-danger"> <% if(typeof msgFname !=='undefined' ){%><%= msgFname %><%}%> </span>
                          
                    </div>
                  </div>
                  <div class="col-md-6 mb-4">
                    <div class="form-outline">
                      <input class="form-control" type="text" id="lname" name="lname" 
                      value="<% if(typeof currentValue !=='undefined' ){%><%= currentValue.lname %><%}else{ }%>"
                      required />
                      <label class="form-label text-dark" for="lname">Last name</label>
                      <span class="form-label text-danger"> <% if(typeof msgLname !=='undefined' ){%><%= msgLname %><%}%> </span>
                    </div>
                  </div>
                </div>

                <!-- Email input -->
                <div class="form-outline">
                  <input class="form-control" type="email" id="email" name="email" 
                  value="<% if(typeof currentValue !=='undefined' ){%><%= currentValue.email %><%}else{ }%>"
                  required /> 
                  <label class="form-label text-dark" for="email">Email address </label>
                  
                </div>
                <span id="error-message" class="alert text-center text-danger" role="alert" style="display: none; height: 20px;">
                  Invalid email address
                </span>
        


                <!-- Mobile number -->
                <div class="form-outline mb-4">
                  <input class="form-control" type="text" id="mobile" name="mobile" 
                  placeholder=" <% if(typeof msgMobile !=='undefined' ){%><%= msgMobile %><%}else{ }%>"
                  value="<% if(typeof currentValue !=='undefined' ){%><%= currentValue.mobile %><%}else{ }%>"
                  required />
                  <label class="form-label text-dark" for="mobile">Enter Mobile</label>
                  <span class="form-label text-danger"> <% if(typeof msgMobile !=='undefined' ){%><%= msgMobile %><%}%> </span>
                </div>




                <!-- Password input -->
                <div class="form-outline mb-4">
                  <input class="form-control" type="password" id="password" name="password" 
                
                  value="<% if(typeof currentValue !=='undefined' ){%><%= currentValue.password %><%}else{ }%>"
                  required />
                  <label class="form-label text-dark" for="password">Password</label>
                  <span class="form-label text-danger"> <% if(typeof msgPassword !=='undefined' ){%><%= msgPassword %><%}%> </span>

                </div>

                <!-- Password input -->
                <div class="form-outline mb-4">
                  <input class="form-control" type="password" id="cpassword" name="cpassword" 
                  value="<% if(typeof currentValue !=='undefined' ){%><%= currentValue.cpassword %><%}else{ }%>"
                  required />
                  <label class="form-label text-dark" for="cpassword">Confirm Password</label>
                </div>



                <% if(typeof msgPass !=='undefined' ){ %>
                  <div class="alert alert-danger text-center text-white" role="alert">
                    <%= msgPass %>
                  </div>

                  <% } %>
                  <% if(typeof msgName !=='undefined' ){ %>
                    <div class="alert alert-danger text-center text-white" role="alert">
                      <%= msgPass %>
                    </div>
  
                    <% } %>


                    <% if(typeof message !=='undefined' ){ %>

                      <div class="alert alert-success text-center" role="alert">
                        <%= message %>
                      </div>

                      <p>
                        <a class="d-flex justify-content-center text-dark" href="/login">login here</a>
                      </p>

                      <% } %>

                        <!-- Submit button -->

                        <div class="d-grid gap-2">
                          <button class="btn btn-dark" type="submit" value="Register">Register</button>
                        </div>

            </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    </div>
  </section>
  <!-- Section: Design Block -->


<script>
   function validateForm() {
        const emailInput = document.getElementById('email');
        const errorMessage = document.getElementById('error-message');

        // Simple email validation using a regular expression
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        const isValidEmail = emailRegex.test(emailInput.value);

        // Display error message if email is invalid
        if (!isValidEmail) {
            errorMessage.style.display = 'block';
            return false;
        }
 
        // Clear error message and allow form submission if email is valid
        errorMessage.style.display = 'none';
        return true;
    }
</script>


  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>

  <%- include('../layouts/footer.ejs')%>